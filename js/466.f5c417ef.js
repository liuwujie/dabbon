"use strict";(self["webpackChunkgale"]=self["webpackChunkgale"]||[]).push([[466],{4466:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"top-nav"},[e("span",{staticClass:"cancel",on:{click:t.goBack}},[t._v("返回")]),e("span",{staticClass:"title"},[t._v("设置")]),e("span",{staticClass:"reset"},[t._v("重置")])]),e("div",{staticStyle:{height:"50px"}}),e("div",{staticClass:"setting-box"},[e("div",{staticClass:"shadow-sm bg-body-white rounded g-card"},[t._m(0),e("div",{staticClass:"g-form"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.appName,expression:"form.appName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入应用标题"},domProps:{value:t.form.appName},on:{input:[function(e){e.target.composing||t.$set(t.form,"appName",e.target.value)},t.changeAppName]}})])]),e("div",{staticClass:"shadow-sm bg-body-white rounded g-card"},[t._m(1),e("div",{staticClass:"g-form"},[e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("用户名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.userName,expression:"form.userName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:t.form.userName},on:{input:[function(e){e.target.composing||t.$set(t.form,"userName",e.target.value)},t.changeUserName]}})]),e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("金额")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.money,expression:"form.money"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入金额"},domProps:{value:t.form.money},on:{input:[function(e){e.target.composing||t.$set(t.form,"money",e.target.value)},t.changeMoney]}})]),e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("邀请码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.invitation,expression:"form.invitation"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入邀请码"},domProps:{value:t.form.invitation},on:{input:[function(e){e.target.composing||t.$set(t.form,"invitation",e.target.value)},t.changeInvitation]}})])])]),e("div",{staticClass:"shadow-sm rounded g-card"},[t._m(2),e("div",{staticClass:"insert-btn",on:{click:t.insertCarousel}},[t._v("+插入一个轮播图")]),e("div",{staticClass:"g-form"},t._l(t.form.carousels,(function(s,a){return e("div",{key:a,staticClass:"item-panel"},[e("span",{staticClass:"iconfont icon-cuowu close-btn",on:{click:function(e){return t.delCarousel(a)}}}),e("span",{staticClass:"corner-code"},[t._v(t._s(a+1))]),e("div",{staticClass:"insert-content"},[e("span",{staticClass:"insert-content-title"},[t._v("轮播图")]),e("img",{staticClass:"insert-image",attrs:{src:s.url},on:{click:function(e){return t.carouselImageTap(s.id)}}})])])})),0)]),e("input",{ref:"fileInput",staticClass:"d-none",attrs:{type:"file"},on:{change:t.carouselImageHidden}}),e("div",{staticClass:"shadow-sm rounded g-card"},[t._m(3),e("div",{staticClass:"g-form"},t._l(t.form.hots,(function(s,a){return e("div",{key:a,staticClass:"item-panel"},[e("span",{staticClass:"corner-code"},[t._v(t._s(a+1))]),e("div",{staticClass:"insert-content"},[e("div",{staticClass:"g-form zb-form"},[e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("标题")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.title,expression:"item.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:s.title},on:{input:[function(e){e.target.composing||t.$set(s,"title",e.target.value)},function(e){return t.changeHotTitle(a)}]}})]),e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("类型")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.type,expression:"item.type"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:s.type},on:{input:[function(e){e.target.composing||t.$set(s,"type",e.target.value)},function(e){return t.changeHotType(a)}]}})]),e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("金额")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.price,expression:"item.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:s.price},on:{input:[function(e){e.target.composing||t.$set(s,"price",e.target.value)},function(e){return t.changeHotPrice(a)}]}})]),e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("封面")]),e("img",{attrs:{src:s.cover},on:{click:function(e){return t.hotImageTap(s.id)}}})])])])])})),0)]),e("div",{staticClass:"shadow-sm rounded g-card"},[t._m(4),e("div",{staticClass:"insert-btn",on:{click:t.insertList}},[t._v("+插入一条数据")]),e("div",{staticClass:"g-form"},t._l(t.form.list,(function(s,a){return e("div",{key:a,staticClass:"item-panel"},[e("span",{staticClass:"iconfont icon-cuowu close-btn",on:{click:function(e){return t.delList(a)}}}),e("span",{staticClass:"corner-code"},[t._v(t._s(a+1))]),e("div",{staticClass:"insert-content"},[e("div",{staticClass:"g-form zb-form"},[e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("标题")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.title,expression:"item.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:s.title},on:{input:function(e){e.target.composing||t.$set(s,"title",e.target.value)}}})]),e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("类型")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.type,expression:"item.type"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:s.type},on:{input:function(e){e.target.composing||t.$set(s,"type",e.target.value)}}})]),e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("金额")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.price,expression:"item.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:s.price},on:{input:function(e){e.target.composing||t.$set(s,"price",e.target.value)}}})]),e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("剩余")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.surplus,expression:"item.surplus"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:s.surplus},on:{input:function(e){e.target.composing||t.$set(s,"surplus",e.target.value)}}})]),e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("已赚")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.earned,expression:"item.earned"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:s.earned},on:{input:function(e){e.target.composing||t.$set(s,"earned",e.target.value)}}})]),e("div",{staticClass:"form-item"},[e("span",{staticClass:"item-label"},[t._v("封面")]),e("img",{attrs:{src:s.cover},on:{click:function(e){return t.listImageTap(s.id)}}})])])])])})),0)])])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-title-box"},[e("span",{staticClass:"card-title"},[t._v("应用标题")]),e("span",{staticClass:"card-secondary"},[t._v("展示在顶部的文字")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-title-box"},[e("span",{staticClass:"card-title"},[t._v("我的信息")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-title-box"},[e("span",{staticClass:"card-title"},[t._v("首页轮播图数据")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-title-box"},[e("span",{staticClass:"card-title"},[t._v("首页中部卡片数据")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-title-box"},[e("span",{staticClass:"card-title"},[t._v("首页列表数据")])])}],o=(s(4114),s(3518)),r=s(8052),n={data(){return{activeType:null,activeImage:null,form:{appName:"",userName:"",money:"",invitation:"",carousels:[],hots:[],list:[]}}},computed:{...(0,o.L8)(["appName","userName","money","invitation","carousels","hots","list"])},mounted(){this.form.appName=this.appName,this.form.userName=this.userName,this.form.money=this.money,this.form.invitation=this.invitation,this.form.carousels=this.carousels,this.form.hots=this.hots,this.form.list=this.list},methods:{...(0,o.i0)(["ADD_CAROUSEL_ASYNC","UPDATE_HOT_ASYNC","UPDATE_CAROUSEL_ASYNC","DEL_CAROUSEL_ASYNC","ADD_LIST_ASYNC","UPDATE_LIST_ASYNC","DEL_LIST_ASYNC","SET_APPNAME_ASYNC","SET_USER_NAME_ASYNC","SET_MONEY_ASYNC","SET_INVITATION_ASYNC"]),carouselImageTap(t){this.activeType=1,this.activeImage=t,this.$refs["fileInput"].click()},hotImageTap(t){this.activeType=2,this.activeImage=t,this.$refs["fileInput"].click()},listImageTap(t){this.activeType=3,this.activeImage=t,this.$refs["fileInput"].click()},carouselImageHidden(t){let e=this;const s=t.target.files[0];if(s){console.log(s);const t=new FileReader;t.readAsDataURL(s),t.onload=t=>{if(console.log(t),1==e.activeType){let s=this.form.carousels.findIndex((t=>t.id===e.activeImage));if(-1!=s){let a=e.form.carousels[s],i={id:a.id,url:t.target.result};e.$set(e.form.carousels,s,i),e.UPDATE_CAROUSEL_ASYNC(i)}}else if(2==e.activeType){let s=this.form.hots.findIndex((t=>t.id===e.activeImage));if(-1!=s){let a=e.form.hots[s],i={id:a.id,title:a.title,type:a.type,price:a.price,cover:t.target.result};e.$set(e.form.hots,s,i),e.UPDATE_HOT_ASYNC(i)}}else if(3==e.activeType){let s=this.form.list.findIndex((t=>t.id===e.activeImage));if(-1!=s){let a=e.form.list[s],i={id:a.id,title:a.title,type:a.type,price:a.price,surplus:a.surplus,earned:a.earned,cover:t.target.result};e.$set(e.form.list,s,i),e.UPDATE_LIST_ASYNC(i)}}}}},goBack(){this.$router.go(-1)},delCarousel(t){this.DEL_CAROUSEL_ASYNC(t).then((()=>{this.form.carousels.splice(t,1)}))},insertCarousel(){let t={id:Date.now(),url:r.PM};this.ADD_CAROUSEL_ASYNC(t).then((()=>{this.form.carousels.push(t)}))},insertList(){let t={id:Date.now(),title:"父爱如山",type:"短剧",price:"80.00",earned:15,surplus:530,cover:r.GR};this.ADD_LIST_ASYNC(t).then((()=>{this.form.list.push(t)}))},delList(t){this.DEL_LIST_ASYNC(t).then((()=>{this.form.list.splice(t,1)}))},changeAppName(t){this.SET_APPNAME_ASYNC(t.target.value)},changeUserName(t){this.SET_USER_NAME_ASYNC(t.target.value)},changeMoney(t){this.SET_MONEY_ASYNC(t.target.value)},changeInvitation(t){this.SET_INVITATION_ASYNC(t.target.value)},changeHotTitle(t){this.UPDATE_HOT_ASYNC(this.form.hots[t])},changeHotType(t){this.UPDATE_HOT_ASYNC(this.form.hots[t])},changeHotPrice(t){this.UPDATE_HOT_ASYNC(this.form.hots[t])}}},l=n,c=s(1656),m=(0,c.A)(l,a,i,!1,null,"5a1bf983",null),p=m.exports}}]);
//# sourceMappingURL=466.f5c417ef.js.map